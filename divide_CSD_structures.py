#!/usr/bin/env python

# Daniele 9/1/17
# This files reads merged CSD (Cambridge Structure Database) cifs and split them giving the name of the alphanumeric code. 


# for f in *; do echo domodend >> $f; done
# for f in *; do divide_CSD_structures.py $f; done

import string,sys,os
import subprocess

dict={'147434': 'ACENIF',
'859100': 'ACODED',
'855255': 'ADABAK',
'950525': 'AFUJUI',
'786000': 'ALICEE',
'786001': 'ALICII',
'798130': 'ALOLOD',
'817246': 'AMAFUQ',
'785288': 'ARUYES',
'839760': 'AVEROJ',
'852404': 'BEDHOJ',
'918795': 'BENXOJ',
'942583': 'BERGAI01',
'642658': 'BIYTEJ',
'695643': 'BONMAT',
'641709': 'BOWSIQ',
'785430': 'BUSMUY',
'785431': 'BUSNAF',
'768308': 'BUVWOF02',
'768310': 'BUVWOF03',
'768307': 'BUVXOG01',
'768312': 'BUVYIB01',
'853111': 'CAYBAH',
'853112': 'CAYBAH01',
'880960': 'CAYDOX',
'880963': 'CAYDOX01',
'880964': 'CAYDOX02',
'880965': 'CAYDOX03',
'880966': 'CAYDOX04',
'880967': 'CAYDOX05',
'880968': 'CAYDOX06',
'880969': 'CAYGIU',
'929341': 'CELZOK',
'929340': 'CELZUQ',
'917420': 'CEZMUR',
'736834': 'CUGVUW',
'259233': 'DALCEZ',
'878099': 'DAWMUL',
'875003': 'DEJROB',
'875176': 'DIDBID',
'875175': 'DIDBOJ',
'713193': 'DONNAW01',
'671538': 'DORDUK',
'697917': 'DOTSOV',
'697918': 'DOTSOV01',
'697919': 'DOTSOV02',
'697920': 'DOTSOV03',
'697921': 'DOTSOV04',
'697922': 'DOTSOV05',
'697923': 'DOTSOV06',
'697924': 'DOTSOV07',
'697925': 'DOTSOV08',
'697926': 'DOTSOV09',
'697927': 'DOTSOV10',
'697928': 'DOTSOV11',
'697929': 'DOTSOV12',
'697930': 'DOTSOV13',
'697931': 'DOTSOV14',
'697932': 'DOTSOV15',
'697933': 'DOTSOV16',
'697934': 'DOTSOV17',
'697935': 'DOTSOV18',
'697936': 'DOTSOV19',
'697937': 'DOTSOV20',
'697938': 'DOTSOV21',
'697939': 'DOTSOV22',
'697940': 'DOTSOV23',
'697941': 'DOTSOV24',
'697942': 'DOTSOV25',
'697943': 'DOTSOV26',
'697944': 'DOTSOV27',
'697945': 'DOTSOV28',
'697946': 'DOTSOV29',
'697947': 'DOTSOV30',
'697948': 'DOTSOV31',
'697949': 'DOTSOV32',
'697950': 'DOTSOV33',
'697951': 'DOTSOV34',
'697952': 'DOTSOV35',
'697953': 'DOTSOV36',
'697954': 'DOTSOV37',
'697955': 'DOTSOV38',
'697956': 'DOTSOV39',
'697957': 'DOTSOV40',
'697958': 'DOTSOV41',
'755080': 'DOTSOV42',
'849398': 'EBAMOL',
'230073': 'EBEMOO',
'162144': 'EBUQEX',
'833169': 'ECAHIB',
'786083': 'EHUFAP',
'194732': 'EJOGOZ',
'795465': 'EMIHAK',
'795467': 'EMIHIS',
'779029': 'EMIVAY',
'779829': 'EXOTUH',
'795330': 'EYOPOY',
'795331': 'EYOPUE',
'795332': 'EYOQAL',
'795333': 'EYOQEP',
'735308': 'EZILUV',
'735309': 'EZIMAC',
'836622': 'FANWIC',
'836623': 'FANWOI',
'1152512': 'FAPYEA',
'854816': 'FAYPUS',
'854822': 'FAYRAA',
'869709': 'FEBQIO',
'865525': 'FECWOB',
'892988': 'FEHCOM',
'239844': 'FERCAH',
'903114': 'FEVFUJ',
'918165': 'FIFMUE',
'836983': 'GALBUS',
'804063': 'GALHUY',
'848187': 'GEDSIT',
'653346': 'GIQHAQ',
'671072': 'GITTIN',
'671081': 'GITVIP01',
'653270': 'GIVDUL',
'299731': 'GIWMOP',
'101957': 'GIWNUV',
'671775': 'GOFDAH',
'723349': 'GUPBEZ',
'723350': 'GUPBEZ01',
'743555': 'GUPCOK',
'743558': 'GUPCUQ01',
'743560': 'GUPDIF',
'743563': 'GUPFAZ',
'705664': 'GUSLUC',
'748777': 'GUSPUG',
'734504': 'GUXPUL',
'734505': 'GUXQAS',
'822054': 'HAJKIO',
'822055': 'HAJKOU',
'878890': 'HASSUR',
'812152': 'HEBZAR',
'883722': 'HEBZEV',
'102315': 'HECQUB',
'254162': 'HIFVUO',
'942584': 'HIHJUF',
'675807': 'HITXUE',
'689695': 'HOHMIB',
'649445': 'HUTZAX01',
'166785': 'IDIWOH',
'619388': 'IDIWOH01',
'733399': 'IMIDZB02',
'733401': 'IMIDZB04',
'733403': 'IMIDZB06',
'720369': 'IMIDZB08',
'780205': 'IMIXEI',
'794700': 'IPIDAN',
'808780': 'ISOJOQ',
'287328': 'JENKIX',
'856758': 'KARLAS',
'893005': 'KEYFIF',
'893004': 'KEYFIF01',
'934732': 'KIPKIF',
'959382': 'KIYMIQ',
'679474': 'KOJCUI',
'688405': 'KUXTUT',
'773708': 'LAJKUE',
'773709': 'LAJLAL',
'773710': 'LAJLEP',
'773711': 'LAJLIT',
'792204': 'LARVIL',
'836779': 'LASPOM',
'862799': 'LAZSIQ',
'286905': 'LELCUB',
'893356': 'LELMEW',
'632446': 'LETFEW',
'192959': 'LUMDIG',
'780103': 'LUXDEO',
'773451': 'MAFDII',
'938392': 'MIBQAR',
'938393': 'MIBQAR01',
'938394': 'MIBQAR02',
'938395': 'MIBQAR03',
'938396': 'MIBQAR04',
'938397': 'MIBQAR05',
'938398': 'MIBQAR06',
'938399': 'MIBQAR07',
'938400': 'MIBQAR08',
'938402': 'MIBQAR10',
'938403': 'MIBQAR11',
'938404': 'MIBQAR12',
'938405': 'MIBQAR13',
'938406': 'MIBQAR14',
'938407': 'MIBQAR15',
'938408': 'MIBQAR16',
'938410': 'MIBQAR18',
'938411': 'MIBQAR19',
'166933': 'MIHHIU',
'678712': 'MIYGOR',
'678714': 'MIYGUX',
'697959': 'MOXJOZ',
'703704': 'MUCLOM',
'761022': 'MUTZUX',
'831209': 'NAZBAT',
'865697': 'NEFTOJ',
'1218908': 'NEVGIE',
'610062': 'NEVPUA',
'610063': 'NEVQAH',
'874240': 'NEXXIZ',
'296090': 'NEYYOG',
'872728': 'NIBBOR',
'871157': 'NICJOA',
'828136': 'OCIZIL',
'920375': 'OFEHEO',
'652032': 'OFERUN',
'940792': 'OFERUN04',
'853387': 'OFIWIK01',
'927875': 'OFUSAL',
'757842': 'OHUKIM',
'685860': 'OMORUE',
'835546': 'OSIWOD01',
'835476': 'OTARIL',
'791875': 'OTARUX',
'791876': 'OTARUX01',
'791877': 'OTARUX02',
'839249': 'OWITAQ',
'839250': 'OWITEU',
'839251': 'OWITIY',
'839252': 'OWITOE',
'839253': 'OWITUK',
'839254': 'OWIVAS',
'839255': 'OWIVEW',
'845703': 'OYODAI',
'845704': 'OYODEM',
'814953': 'PAQFIY',
'267800': 'PAVLUU',
'913256': 'PEGBEK',
'220729': 'PEHBIO',
'893091': 'PEJNOJ',
'826309': 'PELGIY',
'908668': 'PEQHOK',
'908667': 'PEQHUQ',
'906536': 'PEVQEO',
'741393': 'PURQOJ',
'741394': 'PURQUP',
'775588': 'QABVEW',
'831133': 'QEDZEG',
'944514': 'QIFLOI',
'662982': 'QOCBEQ',
'785839': 'QUQGAL',
'777257': 'RAXCAW',
'871159': 'RAYKEJ',
'871160': 'RAYKIN',
'871162': 'RAYKUZ',
'871163': 'RAYLAG',
'871164': 'RAYLEK',
'871165': 'RAYLIO',
'871166': 'RAYLOU',
'871167': 'RAYLUA',
'871168': 'RAYMAH',
'886561': 'REGXOS',
'900466': 'REGYOT',
'603457': 'REPCIZ',
'909601': 'REYNUG',
'106409': 'RIDKOE',
'689696': 'ROGMEG',
'713194': 'RUHCED',
'256965': 'SAHYIK',
'256966': 'SAHYOQ',
'277428': 'SAHYOQ02',
'282410': 'SAHYOQ03',
'282411': 'SAHYOQ04',
'282412': 'SAHYOQ05',
'772889': 'SAKNOJ',
'829334': 'SAPJEA',
'829335': 'SAPJIE',
'869698': 'SARBOE',
'869699': 'SARBUK',
'869700': 'SARCAR',
'894177': 'SEGBIR',
'894178': 'SEGBOX',
'862780': 'SEMFOH',
'856012': 'SEMNEF',
'856013': 'SEMNIJ',
'1262820': 'SOWYIM',
'734037': 'SUGWEX03',
'742073': 'SUTBIT',
'894323': 'TEPGUS',
'871668': 'TEQTAM',
'858871': 'TEWFUY01',
'657622': 'TIGDOD',
'739161': 'TUDHUW',
'739162': 'TUDJAE',
'739163': 'TUDJEI',
'739164': 'TUDJIM',
'739165': 'TUDJOS',
'739166': 'TUDJUY',
'739167': 'TUDKAF',
'739168': 'TUDKEJ',
'727773': 'TUDMAH',
'727774': 'TUDMEL',
'688709': 'TULLIW',
'194966': 'TUSGUJ',
'649000': 'UFANEV',
'820456': 'UMUXAC',
'819641': 'UNIGEE',
'783398': 'UWAGAB03',
'806032': 'UXEHIP',
'808422': 'UYAQAN',
'808423': 'UYAQER',
'769075': 'VAGMIB',
'769077': 'VAGMIB01',
'769076': 'VAGMOH',
'838773': 'VEHKEA',
'895704': 'VETSUK',
'867097': 'VEVJUD',
'960066': 'VIZRIH',
'738809': 'VURMOL',
'763844': 'WAJHOG',
'763845': 'WAJHUM',
'763846': 'WAJJAU',
'763847': 'WAJJEY',
'763848': 'WAJJEY01',
'763849': 'WAJJOI',
'763850': 'WAJJOI01',
'782642': 'WALCIX',
'912293': 'WEMFUR',
'912294': 'WEMGAY',
'907546': 'WEMXIX',
'249643': 'XAGCEO',
'249641': 'XAGCEO01',
'846041': 'XALROT',
'893758': 'XENZUN',
'183282': 'XIGWUF',
'659754': 'XIJNUA',
'674849': 'XIRWEB',
'732233': 'XUNJEW',
'836707': 'YARFII',
'617229': 'YEYVII',
'939626': 'YIKJOT',
'1303900': 'YIWLOF',
'705000': 'YOZBUL01',
'732043': 'YUBFUX',
'1306765': 'YUKBIP',
'785771': 'YUVSUE',
'837717': 'ZARMAI',
'885671': 'ZEKROY',
'899368': 'ZESTIC',
'899367': 'ZESTIC01',
'955933': 'ZIGFEC'}


subprocess.call("rm -f temporaryfile.txt", shell=True)

file = open(sys.argv[1],'r')
goon=True
while goon:
         line = file.readline()
         if len(line.split())==0:
            donothing=1
         elif line.split()[0]=="_database_code_depnum_ccdc_archive":
           code=dict[line.split()[2][:-1]]
           ofile = open(code+".cif",'w')
           print >> ofile, "data_xxx"
           print code
           while len(line.split())==0 or (len(line.split())>0 and line.split()[0]!="#######################################################################"):
            line = file.readline()
            if len(line.split())>0 and line.split()[0]=="domodend":
               goon=False
               break
            elif  len(line.split())==0 or (len(line.split())>0 and line.split()[0][0]!="#"):
               print >> ofile, line,
           ofile.close()
           

               
                

        
          
         
        



